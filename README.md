# 공공데이터 시각화 (지도 + 마커 + 리스트 + 차트 ) :: Vue 3 + Vite

/**
    "사용자 선택에 따라 특정 키 기반으로 마커 데이터를 필터링하여 지도에 동적으로 렌더링하고, 각 마커는 조건에 따라 다른 아이콘을 표시하도록 구현했습니다. Vue의 반응형 상태 관리와 Naver Maps API를 활용하여 사용자 인터랙션과 데이터 기반 UI를 연결했습니다."
 */

// main 기능 정리
- 네이버맵 API 연동
- 공공데이터 포털 데이터 연계(현재 json파일로 구현됨 :: 추후 추가 예정)
- 공공데이터 시각화
    - 지도시각화(마커 및 클러스터링)
        - 상호작용 기반 양방향 연동
            - 마커 + 데이터리스트
            - 구별영역 클릭시 or 리스트검색시, 해당 데이터만 필터링 (지도 + 데이터리스트)
    - 리스트 시각화(검색/정렬/페이징 등)
    - 차트시각화


// 주요 작업 진행/수정 및 이슈 //

< 2025.04.21 >
- 프로젝트 생성 및 "SyntaxError: Unexpected token '||='" 이슈로 pakage.json :: "type": "module", ← 삭제 **
- 현업에서는 vue2 + webpack 조합을 사용했으나 -> 현 프로젝트에서는 vue3 + vite 조합을 사용함

< 2025.04.22 >
- 열린데이터 광장 > 서울시 공공도서관 데이터.json example폴더에 추가 (일단 개발용으로 json파일 사용하고, api연계는 추후에 진행 예정**)
- 서울시 구별 경계 파일로 표출테스트완료 :: 원천 데이터에서 성북구가 빠져있어서 추구 성북구 추가 필요 **

< 2025.04.28~29 >
- 템플렛 스타일 찾기 + css추가
    - 왼쪽 메뉴 구성(Lnb)
    - 서울공공도서관 데이터 불러오기
    - 시설 항목 표출
- 화면 구조 재조정 작업
    - 컴포넌트 분리 작업
    - Main
        - NaverMap
        - Chart*2
        - DataList
- pania 설치 및 설정 추가
- useFacilityStore 추가
- vite.config.js 에 '@' 패스 alias 추가

< 2025.04.30 >
- NaverMap.vue 지도 구현 방식 composition api로 변경
- NaverMapCtrl.js 구성 :: 마커 표출 및 마커팝업 표출 **
- 마커생성 조건 구체화 :: 선택한 항목의 데이터셋이 없을때(length > 0)는 알람

< 2025.05.02 >
- MarkerClustering.js 호출관련 이슈가 있어서 직접 import
- 마커 클러스터링 함수 추가 initClustering()
- 마커 클러스터링(지도 레벨 12부터~ / [5, 10, 15, 20, 30] 갯수대로 묶기)

< 2025.05.05 >
- 선택항목 리스트 표출 작업
    - 초기 화면에서는 "선택된 항목이 없습니다" 표출
    - 항목 선택되면 리스트 바뀌게 와치로 감시하다가 리스트 표출하도록 구현 --> computed로 수정(25.05.07)**

< 2025.05.07 >
- 리스트 표출 및 페이징 작업
- 정렬 및 검색기능 구현
- 갯수선택시 정렬값 초기화
- 검색시 페이지선택/정렬 초기화

< 2025.05.08 ~ 09 >
- 리스트 페이지 버튼 간소화 작업(너무 많은 페이지번호 간소화)
- 정렬 및 검색시 페이징 첫번째 페이지 선택되게
- 검색결과 == 마커 갯수 맞추기(검색결과 리스트 마커로 표출 :: 사용자 혼동 없애기 위해)
- 클러스터링 기능 수정 (검색관련 이슈 :: 데이터 초기화)
- 마커 선택시 하이라이트 표시 + 리스트 해당 값 하이라이트 표시**
- 리스트 데이터 선택시, 선택한 데이터에 맞는 마커 선택되게 기능 맞추기

< 2025.05.11 >
- npm i chart.js
- 차트 시각화 작업(컴포넌트 분리 및 데이터 셋 세팅 작업) :: 차트수정예정 (데이터셋에서 여러차트 나오기 힘들어서 1개로 )

< 2025.05.12 >
- 차트 수정
    - x축 y축 위치 바꾸기
    - 반응형 옵션 (차트반응형 + 차트높이 자유롭게)
- 차트 데이터 클릭 이벤트 추가
    - 클릭된 차트 데이터 스타일 변경
    - 클릭된 차트 데이터 필러링 
        - 지도 geojson영역 선택
        - 리스트 필터
- 지도 geojson영역 클릭이벤트 추가
    - 해당 영역에 대한 데이터만 표출하게 필터링 작업
    - 영역선택값 차트에서도 선택되게
    - !!!!! 선택된 영역과 일치하는 차트데이터 클릭 !!!!!
        => chart.js 내부 영역을 외부에서 클릭할 수 없어서... 스타일만이라도 지정해둠... (방법 있는지 찾아봐야할듯)
- npm i mitt :: 이벤트버스 필요해서 설치
    => 선택구를 watch로 감시하면 다시 클릭해서 해제해주는 구간에서 감지를 못함 :: 이벤트버스로 변경

< 2025.05.13 >
- 지도영역 다른 지역 클릭시 기존 선택값 초기화
- 지도영역 클릭은 데이터항목 클릭 된 후에 가능하게 막기

< 2025.05.14 >
- 차트 선택시 영역 선택안되는 버그 디버깅하기
- 기능 테스트 진행 
- lnb메뉴 클릭 활성화 스타일 추가
- 데이터 선택 안내 오버레이 추가(초기화면에서 데이터항목 선택값이 없는 경우 대비)
- 페이지 버튼 간소화 작업(추후 작업 예정)
- 사이트 배포

< 2025.05.19 >
- 공공데이터 api 컨트롤러 생성 (로컬)
    - api정보 입력받아 디비 적재 컨트롤러 구현
    - 적재된 데이터 조회가능한 컨트롤러 구현 (일부캐시 적용**)
- 로컬환경에서 컨트롤러 테스트(DB(mysql)로 적재 테스트)

< 2025.05.20 >
- 배포환경 변경 (aws :: ec2 / 아마존 리눅스)
    - aws 서버 세팅 작업
        - 보안그룹 설정  
        - 퍼블릭 ip 설정
- 디비설치 및 테이블 + 계정 생성 
    
< 2025.05.22 >
- api컨트롤러 수정 및 서버 배포 작업
- 기존 프로젝트 enginx로 배포 진행
- 서버단 db조회 테스트 및 프로젝트 데이터 조회방법 변경(db조회)
- 기존 정적데이터 -> db조회 데이터로 수정 + 공통으로 사용가능하게 구조화 작업 ~ing



# 작업예정 및 보완필요 항목 #
+ 간단한 사용자 인증? -> 사용자별 저장 + 커스텀 가능
+ 반응형 디자인 추가(모바일/테블릿 등등)
+ 마커 이미지 맵 만들어서 키에 따라 다른 이미지 호출하게 수정 **
+ 반응형 UI로 작업
+ 데이터 API 데이터 처리 
+ ... 데이터항목 추가 예정
